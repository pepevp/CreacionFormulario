<!-- index.html -->
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Registro de Asistentes</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body>
<div class="container mt-5">
    <form class="needs-validation" action="procesar_evento.php" method="POST" enctype="multipart/form-data" novalidate>
        <h2>Información Personal</h2>
        <div class="mb-3">
            <label class="form-label">Nombre completo</label>
            <input type="text" name="nombre" class="form-control" required>
            <div class="invalid-feedback">Ingrese su nombre.</div>
        </div>
        <div class="mb-3">
            <label class="form-label">Correo electrónico</label>
            <input type="email" name="email" class="form-control" required>
            <div class="invalid-feedback">Ingrese un correo válido.</div>
        </div>
        <div class="mb-3">
            <label class="form-label">Número de teléfono</label>
            <input type="tel" name="telefono" class="form-control">
        </div>
        <div class="mb-3">
            <label class="form-label">Fecha de nacimiento</label>
            <input type="date" name="fecha_nacimiento" class="form-control" required>
            <div class="invalid-feedback">Campo requerido.</div>
        </div>
        <div class="mb-3">
            <label class="form-label">Género</label>
            <div>
                <input type="radio" name="genero" value="Masculino" required> Masculino
                <input type="radio" name="genero" value="Femenino"> Femenino
                <div class="invalid-feedback">Seleccione género.</div>
            </div>
        </div>
        <hr>
        <h2>Información del Evento</h2>
        <div class="mb-3">
            <label class="form-label">Fecha del evento</label>
            <input type="date" name="fecha_evento" class="form-control" required>
            <div class="invalid-feedback">Campo requerido.</div>
        </div>
        <div class="mb-3">
            <label class="form-label">Tipo de entrada</label>
            <select name="tipo_entrada" class="form-select" required>
                <option value="">Seleccione…</option>
                <option value="General">General</option>
                <option value="VIP">VIP</option>
                <option value="Estudiante">Estudiante</option>
            </select>
        </div>
        <div class="mb-3">
            <label class="form-label">Preferencias de comida</label><br>
            <input type="checkbox" name="comida[]" value="Vegetariano"> Vegetariano
            <input type="checkbox" name="comida[]" value="Vegano"> Vegano
            <input type="checkbox" name="comida[]" value="Sin gluten"> Sin gluten
            <input type="checkbox" name="comida[]" value="Sin preferencias"> Sin preferencias
        </div>
        <hr>
        <h2>Información de acceso</h2>
        <div class="mb-3">
            <label class="form-label">Nombre de usuario</label>
            <input type="text" name="usuario" class="form-control" required>
        </div>
        <div class="mb-3">
            <label class="form-label">Contraseña</label>
            <input type="password" name="contrasena" class="form-control" required>
        </div>
        <div class="mb-3">
            <label class="form-label">Confirmar contraseña</label>
            <input type="password" name="confirmar_contrasena" class="form-control" required>
            <div class="invalid-feedback">Las contraseñas no coinciden.</div>
        </div>
        <hr>
        <h2>Preferencias de contacto</h2>
        <div class="mb-3 form-check">
            <input type="checkbox" name="notificaciones" class="form-check-input" id="notificaciones">
            <label class="form-check-label" for="notificaciones">¿Desea recibir notificaciones?</label>
        </div>
        <div class="mb-3 form-check">
            <input type="checkbox" name="terminos" class="form-check-input" id="terminos" required>
            <label class="form-check-label" for="terminos">Acepta los términos y condiciones *</label>
            <div class="invalid-feedback">Debe aceptar los términos.</div>
        </div>
        <hr>
        <h2>Encuesta adicional</h2>
        <div class="mb-3">
            <label class="form-label">Calificación de eventos anteriores</label>
            <input type="range" name="calificacion" min="1" max="10" class="form-range">
        </div>
        <div class="mb-3">
            <label class="form-label">Comentarios adicionales</label>
            <textarea name="comentarios" class="form-control"></textarea>
        </div>
        <hr>
        <div class="mb-3">
            <label class="form-label">Adjuntar archivo</label>
            <input type="file" name="archivo" class="form-control">
        </div>
        <button type="submit" class="btn btn-primary">Registrar</button>
    </form>
</div>
<script>
    (() => {
        'use strict'
        const forms = document.querySelectorAll('.needs-validation')
        Array.from(forms).forEach(form => {
            form.addEventListener('submit', event => {
                if (!form.checkValidity()) {
                    event.preventDefault()
                    event.stopPropagation()
                }
                const pwd = form.querySelector('input[name=contrasena]').value;
                const confirm = form.querySelector('input[name=confirmar_contrasena]').value;
                if (pwd !== confirm) {
                    form.querySelector('input[name=confirmar_contrasena]').classList.add('is-invalid');
                    event.preventDefault();
                }
                form.classList.add('was-validated')
            }, false)
        })
    })();
</script>
</body>
</html>
